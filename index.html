<!DOCTYPE html>
<html lang="fr">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="google-site-verification"
         content="lCxNTm-SpFTflRCtK_ELgFuWUcVPUNHU2ekq3KFVRlM"
      />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link
         href="https://yt3.googleusercontent.com/U1irix8yAHM3hWAVSqzfcqA5tvfs5bBlDppJL27ZJuVnLRU0WnQlfiOjj92NGqmuATjxzkQn=s1920-c-k-c0x00ffffff-no-rj"
         rel="icon"
         type="image/x-icon"
      />
      <title>Classification des armes selon le CSI</title>
      <link
         href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
         rel="stylesheet"
      />
      <style>
         body {
            transition: background-color 0.1s ease, color 0.1s ease;
         }
         [data-bs-theme="light"] body {
            background-color: #f8f9fa; /* clair */
            color: #212529;
         }
         [data-bs-theme="dark"] body {
            background-color: #121212; /* sombre */
            color: #e9ecef;
         }
         .container {
            max-width: 70rem;
            margin-top: 5rem;
         }
         .card {
            border-radius: 2rem;
            box-shadow: 0 1rem 5rem rgba(0, 0, 0, 0.1);
         }
         textarea {
            font-family: monospace;
            font-size: 0.9rem;
            height: 17rem;
         }
      </style>
   </head>
   <body>
      <div class="container">
         <div class="card p-4 position-relative">
            <!-- Bouton de mode sombre -->
            <button
               id="themeToggle"
               class="btn btn-outline-secondary btn-sm position-absolute"
               style="top: 1rem; right: 1rem"
               title="Basculer clair/sombre"
            >
               🌙
            </button>
            <h2 class="mb-4 text-center">
               Classification des armes selon le
               <a href="https://www.legifrance.gouv.fr/codes/article_lc/LEGIARTI000037908239/" target="_blank" hreflang="fr" class="text-body text-decoration-underline fst-italic">Code de la Sécurité Intérieure</a>
            </h2>

            <form id="formArme">
               <div class="row mb-3">
                  <div class="col-md-6">
                     <label class="form-label">Type d'arme :</label>
                     <select id="type" class="form-select">
                        <option selected>Épaule</option>
                        <option>Poing</option>
                     </select>
                  </div>
                  <div class="col-md-6">
                     <label class="form-label">Système :</label>
                     <select id="systeme" class="form-select">
                        <option>Automatique</option>
                        <option>Semi-automatique</option>
                        <option>Levier de sous-garde</option>
                        <option>Pompe</option>
                        <option selected>Verrou</option>
                        <option>Linéaire</option>
                        <option>Déverrouillage de culasse par bouton</option>
                        <option>Monocoup</option>
                     </select>
                  </div>
               </div>

               <div class="row mb-3">
                  <div class="col-md-6">
                     <label class="form-label">Type de canon :</label>
                     <select id="canon" class="form-select">
                        <option selected>Rayé</option>
                        <option>Lisse</option>
                     </select>
                  </div>
                  <div class="col-md-6">
                     <label class="form-label">Calibre :</label>
                     <select id="calibre" class="form-select"></select>
                  </div>
               </div>

               <div class="row mb-3">
                  <div class="col-md-6" id="alimentationSection">
                     <label class="form-label">Type d’alimentation :</label>
                     <select id="alimentation" class="form-select">
                        <option>Magasin</option>
                        <option selected>Chargeur amovible</option>
                        <option>Chargeur inamovible</option>
                     </select>
                  </div>
                  <div class="col-md-6" id="capaciteSection">
                     <label class="form-label"
                        >Capacité totale (chambre + chargeur) :</label
                     >
                     <input
                        type="number"
                        id="capacite"
                        class="form-control"
                        value="11"
                        min="1"
                     />
                  </div>
               </div>

               <div class="row mb-3">
                  <div class="col-md-6">
                     <label class="form-label">Longueur du canon (cm) :</label>
                     <input
                        type="number"
                        id="longueur_canon"
                        class="form-control"
                        value="46"
                     />
                  </div>
                  <div class="col-md-6">
                     <label class="form-label"
                        >Longueur minimale de l’arme (cm) :</label
                     >
                     <input
                        type="number"
                        id="longueur_min"
                        class="form-control"
                        value="81"
                     />
                  </div>
               </div>

               <div class="row mb-3">
                  <div class="col-md-6">
                     <div class="form-check">
                        <input
                           class="form-check-input"
                           type="checkbox"
                           id="brevet"
                        />
                        <label class="form-check-label" for="brevet"
                           >Brevet avant 1900</label
                        >
                     </div>
                     <div class="form-check">
                        <input
                           class="form-check-input"
                           type="checkbox"
                           id="crosse"
                        />
                        <label class="form-check-label" for="crosse"
                           >Crosse télescopique ou rabattable</label
                        >
                     </div>
                  </div>
                  <div class="col-md-6">
                     <div class="form-check">
                        <input
                           class="form-check-input"
                           type="checkbox"
                           id="apparence"
                        />
                        <label class="form-check-label" for="apparence"
                           >Apparence d’arme automatique</label
                        >
                     </div>
                     <div class="form-check">
                        <input
                           class="form-check-input"
                           type="checkbox"
                           id="transformee"
                        />
                        <label class="form-check-label" for="transformee"
                           >Arme d'origine automatique</label
                        >
                     </div>
                  </div>
               </div>

               <div class="text-center">
                  <button
                     type="button"
                     id="classerBtn"
                     class="btn btn-primary btn-lg"
                     hidden
                  >
                     Classer l’arme
                  </button>
               </div>
            </form>
            <br />
            <div class="d-flex justify-content-between align-items-center mb-2">
               <h4 class="mb-0">Résultat :</h4>
               <button id="copyBtn" class="btn btn-outline-secondary btn-sm">
                  Copier
               </button>
            </div>
            <textarea id="resultat" class="form-control" readonly></textarea>
         </div>
      </div>

      <script>
        const CALIBRES = [
         // 1) Percussion annulaire (rimfire) - en tête
         "22lr",
         "17hmr",
         "17wsm",

         // 2) Canon lisse (smoothbore) - du moins puissant au plus puissant
         "410",
         "36 gauge",
         "32 gauge",
         "28 gauge",
         "24 gauge",
         "20 gauge",
         "16 gauge",
         "14 gauge",
         "12 gauge",
         "10 gauge",
         "8 gauge",

         // 3) Le reste trié par puissance approximative (croissant)
         "25 ACP",
         "32 ACP",
         "380acp",
         "9x19mm Parabellum",
         "9x21mm",
         "40S&W",
         "45 ACP",
         "45 Colt",
         "7.62x25mm Tokarev",
         "38 Special",
         "10mm auto",
         "357 Magnum",
         "44 Magnum",
         "454 Casull",
         "500 S&W",
         "5.7x28mm",
         "4.6x30mm",
         "300 AAC Blackout",
         "6mm PPC",
         ".22-250 Remington",
         "222 Remington",
         "5.45x39mm",
         "5.56x45mm OTAN / 223 Remington",
         "6.5 Grendel",
         "7.62x39mm",
         "6.5x55mm Swedish",
         "6.5 Creedmoor",
         "7.62x51mm OTAN / 308 Winchester",
         "7.62x54mmR",
         "8x57mm IS",
         "30-06 Springfield",
         "45-70 Govt",
         "7mm Remington Magnum",
         "7.5x55mm Swiss",
         "30-06 Springfield",
         "30-30 Winchester",
         "8mm Lebel",
         "9.3x62mm",
         "9.3x64mm",
         "300 Winchester Magnum",
         "300 Weatherby Magnum",
         "338 Winchester Magnum",
         "338 Lapua Magnum",
         "416 Rigby",
         "12.7x99mm OTAN / 50 BMG",
         "14.5x114mm"
         ];

         const CALIBRES_LISSES = [
            "8 gauge",
            "10 gauge",
            "12 gauge",
            "14 gauge",
            "16 gauge",
            "20 gauge",
            "24 gauge",
            "28 gauge",
            "32 gauge",
            "36 gauge",
            "410",
         ];

         const CALIBRES_B4 = [
            "7.62x39mm",
            "5.56x45mm OTAN / 223 Remington",
            "5.45x39mm",
            "12.7x99mm OTAN / 50 BMG",
            "14.5x114mm",
         ];
         const RIMFIRE_CALIBRES = ["22lr", "17hmr", "17wsm"];

         const selectCalibre = document.getElementById("calibre");
         CALIBRES.forEach((c) => {
            const opt = document.createElement("option");
            opt.value = c;
            opt.textContent = c;
            selectCalibre.appendChild(opt);
         });
         selectCalibre.value = "22lr";

         document
            .getElementById("systeme")
            .addEventListener("change", function () {
               const capSec = document.getElementById("capaciteSection");
               if (this.value === "Monocoup") capSec.style.display = "none";
               else capSec.style.display = "block";
               const aliSec = document.getElementById("alimentationSection");
               if (this.value === "Monocoup") aliSec.style.display = "none";
               else aliSec.style.display = "block";
            });

         function afficherResultat(cat, raison, CSI) {
            const res = document.getElementById("resultat");
            res.value = `Catégorie : ${cat}\n\nRaison :\n- ${raison}\n\nCSI applicable :\n${CSI}`;
         }

         document.getElementById("classerBtn").addEventListener("click", () => {
            const data = {
               type: document.getElementById("type").value,
               systeme: document.getElementById("systeme").value,
               canon: document.getElementById("canon").value,
               calibre: document.getElementById("calibre").value,
               alimentation: document.getElementById("alimentation").value,
               capacite: parseInt(
                  document.getElementById("capacite").value || "1"
               ),
               longueur_canon: parseFloat(
                  document.getElementById("longueur_canon").value || "0"
               ),
               longueur_min: parseFloat(
                  document.getElementById("longueur_min").value || "0"
               ),
               brevet_avant_1900: document.getElementById("brevet").checked,
               crosse_pliable: document.getElementById("crosse").checked,
               apparence_auto: document.getElementById("apparence").checked,
               transformee_auto: document.getElementById("transformee").checked,
            };

            const percussion_eff = RIMFIRE_CALIBRES.includes(data.calibre)
               ? "Annulaire"
               : "Centrale";

            // Début logique complète de classification
            const CSI = {
               "A2-1":
                  "CSI R311-2 : A2-1 : Armes à feu à répétition automatique, leurs éléments spécifiquement conçus pour elles et tout dispositif additionnel pouvant se monter sur une arme à feu à répétition semi-automatique permettant le tir en rafale de projectiles ou s'assimilant au tir en rafale par l'augmentation de sa vitesse de tir.",
               "D-e": "CSI 311-2 : D-e : Armes historiques et de collection dont le modèle est antérieur au 1er janvier 1900, à l'exception de celles classées dans une autre catégorie, en raison de leur dangerosité avérée, notamment en raison de leur année de fabrication, par arrêté conjoint du ministre de l'intérieur et du ministre chargé des douanes.",
               "A1-3":
                  "CSI R311-2 : A1-3 : Armes à feu d'épaule à répétition semi-automatique à percussion annulaire permettant le tir de plus de trente et une munitions sans qu'intervienne un réapprovisionnement, dès lors qu'un chargeur d'une capacité supérieure à trente cartouches fait partie intégrante de l'arme à feu ou, s'il est amovible, y a été inséré.",
               "A1-3bis":
                  "CSI R311-2 : A1-3bis : Armes à feu d'épaule à répétition semi-automatique à percussion centrale permettant le tir de plus de onze munitions sans qu'intervienne un réapprovisionnement, dès lors qu'un chargeur d'une capacité supérieure à trente cartouches fait partie intégrante de l'arme à feu ou, s'il est amovible, y a été inséré.",
               "A1-3quater":
                  "CSI R311-2 : A1-3quater : Armes à feu d'épaule à répétition manuelle permettant le tir de plus de trente et une munitions sans qu'intervienne un réapprovisionnement, dès lors qu'un chargeur d'une capacité supérieure à trente cartouches fait partie intégrante de l'arme à feu ou, s'il est amovible, y a été inséré.",
               "A1-2":
                  "CSI R311-2 : A1-2 : Armes à feu de poing, quel que soit le type ou le système de fonctionnement, permettant le tir de plus de vingt et une munitions sans qu'intervienne un réapprovisionnement, dès lors qu'un système d'alimentation d'une capacité supérieure à vingt cartouches fait partie intégrante de l'arme à feu ou, s'il est amovible, y a été inséré.",
               "A1-11":
                  "CSI R311-2 : A1-11 : Armes à feu à répétition automatique transformées en armes à feu à répétition semi-automatique, en armes à feu à répétition manuelle ou en armes à feu à un coup.",
               "A1-12":
                  "CSI R311-2 : A1-12 : Armes à feu d'épaule à répétition semi-automatique dont la longueur peut être réduite à moins de 60 cm à l'aide d'une crosse repliable ou télescopique, ou d'une crosse démontable sans outils, sans qu'elles perdent leur fonctionnalité.",
               "B-1": "CSI R311-2 : B-1 : Armes à feu de poing et armes converties en armes de poing non comprises dans les autres catégories.",
               "B-2a":
                  "CSI R311-2 : B-2a : Armes à feu d'épaule à répétition semi-automatique, à percussion centrale, dont le projectile a un diamètre inférieur à 20 mm, d'une capacité supérieure à 3 coups ou équipées d'un système d'alimentation amovible et n'excédant pas 11 coups sans qu'intervienne un réapprovisionnement.",
               "B-2abis":
                  "CSI R311-2 : B-2abis : Armes à feu d'épaule à répétition semi-automatique à percussion annulaire, dont le projectile a un diamètre inférieur à 20 mm, d'une capacité supérieure à 3 coups ou équipées d'un système d'alimentation amovible et n'excédant pas 31 coups sans qu'intervienne un réapprovisionnement.",
               "B-2b":
                  "CSI R311-2 : B-2b : Armes à feu d'épaule à répétition manuelle, dont le projectile a un diamètre inférieur à 20 mm, d'une capacité supérieure à 11 coups et n'excédant pas 31 coups sans qu'intervienne un réapprovisionnement.",
               "B-2c":
                  "CSI R311-2 : B-2c : Armes à feu d'épaule dont la longueur totale minimale est inférieure ou égale à 80 centimètres ou dont la longueur du canon est inférieure ou égale à 45 centimètres.",
               "B-2d":
                  "CSI R311-2 : B-2d : Armes à feu d'épaule à canon lisse à répétition ou semi-automatiques dont la longueur totale minimale est inférieure ou égale à 80 cm ou dont la longueur du canon est inférieure ou égale à 60 cm.",
               "B-2e":
                  "CSI R311-2 : B-2e : Armes à feu d'épaule à répétition semi-automatique ayant l'apparence d'une arme automatique.",
               "B-2f":
                  "CSI R311-2 : B-2f : Armes à feu d'épaule à répétition manuelle munies d'un dispositif de rechargement à pompe suivantes : armes à canon lisse ou armes à canon rayé autres que celles répondant aux caractéristiques énocées au C-1b ou celles mentionnées au C-1d.",
               "B-4": "CSI R311-2 : B-4 : Armes chambrant les calibres suivants, quel que soit leur type ou leur système de fonctionnement ainsi que leurs munitions, douilles et douilles amorcées, à l'exception de celles classées dans la catégorie A : Calibre 7.62 x 39, Calibre 5.56 x 45, Calibre 5.45 x 39, Calibre 12.7 x 99, Calibre 14.5 x 114.",
               "C-1a":
                  "CSI R311-2 : C-1a : Armes à feu d'épaule à répétition semi-automatique dont le projectile a un diamètre inférieur à 20 mm équipées de systèmes d'alimentation inamovibles permettant le tir de 3 munitions au plus sans qu'intervienne le réapprovisionnement.",
               "C-1b":
                  "CSI R311-2 : C-1b : Armes à feu d'épaule à répétition manuelle dont le projectile a un diamètre inférieur à 20 mm équipées de systèmes d'alimentation permettant le tir de 11 munitions au plus, sans qu'intervienne le réapprovisionnement.",
               "C-1c":
                  "CSI R311-2 : C-1c : Armes à feu d'épaule à un coup par canon.",
               "C-1d":
                  "CSI R311-2 : C-1d : Armes à feu d'épaule à répétition manuelle à canon rayé munies d'un dispositif de rechargement à pompe chambré pour les calibres 8, 10, 12, 14, 16, 20, 24, 28, 32, 36 et 410, d'une capacité inférieure ou égale à 5 coups, dont la longueur totale est supérieure à 80 cm, dont la longueur du canon est supérieure à 60 cm et dont la crosse est fixe.",
            };

            // === Début logique simplifiée et fidèle ===
            if (data.brevet_avant_1900) {
               if (data.systeme === "Automatique")
                  return afficherResultat(
                     "A2-1",
                     "Arme automatique malgré l'ancienneté → A2-1",
                     CSI["A2-1"]
                  );
               return afficherResultat(
                  "D-e",
                  "Arme historique (brevet avant 1900) → D-e",
                  CSI["D-e"]
               );
            }

            if (data.systeme === "Automatique")
               return afficherResultat(
                  "A2-1",
                  "Arme automatique → A2-1",
                  CSI["A2-1"]
               );

            if (
               data.type === "Épaule" &&
               data.systeme === "Semi-automatique" &&
               data.crosse_pliable &&
               data.longueur_min < 60
            )
               return afficherResultat(
                  "A1-12",
                  "Épaule semi-auto crosse pliable <60cm → A1-12",
                  CSI["A1-12"]
               );
            if (
               data.systeme === "Semi-automatique" &&
               data.type === "Épaule" &&
               percussion_eff === "Annulaire" &&
               data.capacite > 31
            )
               return afficherResultat(
                  "A1-3",
                  "Épaule semi-auto annulaire >31 coups → A1-3",
                  CSI["A1-3"]
               );
            if (
               data.systeme === "Semi-automatique" &&
               data.type === "Épaule" &&
               percussion_eff === "Centrale" &&
               data.capacite > 11
            )
               return afficherResultat(
                  "A1-3bis",
                  "Épaule semi-auto centrale >11 coups → A1-3bis",
                  CSI["A1-3bis"]
               );
            if (
               ["Levier de sous-garde", "Pompe", "Verrou", "Linéaire", "Déverrouillage de culasse par bouton"].includes(
                  data.systeme
               ) &&
               data.type === "Épaule" &&
               data.capacite > 31
            )
               return afficherResultat(
                  "A1-3quater",
                  "Épaule manuelle >31 coups → A1-3quater",
                  CSI["A1-3quater"]
               );
            if (data.type === "Poing" && data.capacite > 21)
               return afficherResultat(
                  "A1-2",
                  "Arme de poing >21 coups → A1-2",
                  CSI["A1-2"]
               );
            if (data.transformee_auto)
               return afficherResultat(
                  "A1-11",
                  "Arme automatique transformée → A1-11",
                  CSI["A1-11"]
               );

            if (data.type === "Poing")
               return afficherResultat(
                  "B-1",
                  "Arme de poing → B-1",
                  CSI["B-1"]
               );

            if (
               data.type === "Épaule" &&
               data.systeme === "Semi-automatique" &&
               percussion_eff === "Centrale" &&
               (data.capacite > 3 || data.alimentation === "Chargeur amovible")
            )
               return afficherResultat(
                  "B-2a",
                  "Semi-auto percussion centrale >3 coups ou chargeur amovible → B-2a",
                  CSI["B-2a"]
               );

            if (
               data.type === "Épaule" &&
               data.systeme === "Semi-automatique" &&
               percussion_eff === "Annulaire" &&
               (data.capacite > 3 || data.alimentation === "Chargeur amovible")
            )
               return afficherResultat(
                  "B-2abis",
                  "Semi-auto percussion annulaire >3 coups ou chargeur amovible → B-2abis",
                  CSI["B-2abis"]
               );

            if (
               data.type === "Épaule" &&
               ["Verrou", "Pompe", "Levier de sous-garde", "Linéaire", "Déverrouillage de culasse par bouton"].includes(
                  data.systeme
               ) &&
               data.capacite > 11
            )
               return afficherResultat(
                  "B-2b",
                  "Épaule manuelle >11 coups → B-2b",
                  CSI["B-2b"]
               );

            if (data.longueur_min <= 80 || data.longueur_canon <= 45)
               return afficherResultat(
                  "B-2c",
                  "Longueur minimale ≤80cm ou canon ≤45cm → B-2c",
                  CSI["B-2c"]
               );

            if (
               data.canon === "Lisse" &&
               data.longueur_canon <= 60 &&
               [
                  "Semi-automatique",
                  "Pompe",
                  "Verrou",
                  "Levier de sous-garde",
               ].includes(data.systeme)
            )
               return afficherResultat(
                  "B-2d",
                  "Canon lisse ≤60cm → B-2d",
                  CSI["B-2d"]
               );

            if (data.apparence_auto && data.systeme === "Semi-automatique")
               return afficherResultat(
                  "B-2e",
                  "Semi-auto ayant l'apparence d'une arme automatique → B-2e",
                  CSI["B-2e"]
               );

            if (data.type === "Épaule" && data.systeme === "Pompe") {
               if (data.canon === "Lisse")
                  return afficherResultat(
                     "B-2f",
                     "Arme à pompe à canon lisse → B-2f",
                     CSI["B-2f"]
                  );
               if (CALIBRES_LISSES.includes(data.calibre))
                  if (
                     data.capacite > 5 ||
                     data.longueur_min <= 80 ||
                     data.longueur_canon <= 60 ||
                     data.crosse_pliable
                  )
                     return afficherResultat(
                        "B-2f",
                        "Arme à pompe à canon rayé calibre lisse >5 coups ou longueur ≤80cm ou canon ≤60cm ou crosse pliable → B-2f",
                        CSI["B-2f"]
                     );
            }

            if (CALIBRES_B4.includes(data.calibre))
               return afficherResultat(
                  "B-4",
                  `Chambrée dans un calibre de guerre (${data.calibre}) → B-4`,
                  CSI["B-4"]
               );

            if (
               data.type === "Épaule" &&
               data.systeme === "Semi-automatique" &&
               data.capacite <= 3 &&
               (data.alimentation === "Chargeur inamovible" ||
                  data.alimentation === "Magasin")
            )
               return afficherResultat(
                  "C-1a",
                  "Semi-auto ≤3 coups avec système d'alimentation inamovible → C-1a",
                  CSI["C-1a"]
               );

            if (
               data.type === "Épaule" &&
               data.systeme === "Pompe" &&
               CALIBRES_LISSES.includes(data.calibre)
            )
               if (
                  data.capacite <= 5 &&
                  data.longueur_min > 80 &&
                  data.longueur_canon > 60 &&
                  !data.crosse_pliable
               )
                  return afficherResultat(
                     "C-1d",
                     "Pompe calibre lisse avec canon rayé ≤5 coups, longueur >80cm, canon >60cm, crosse fixe → C-1d",
                     CSI["C-1d"]
                  );

            if (
               data.type === "Épaule" &&
               ["Verrou", "Pompe", "Levier de sous-garde", "Linéaire", "Déverrouillage de culasse par bouton"].includes(
                  data.systeme
               ) &&
               data.capacite <= 11
            )
               return afficherResultat(
                  "C-1b",
                  "Répétition manuelle ≤11 coups → C-1b",
                  CSI["C-1b"]
               );

            if (data.systeme === "Monocoup")
               return afficherResultat(
                  "C-1c",
                  "Arme monocoup → C-1c",
                  CSI["C-1c"]
               );

            // Cas par défaut
            afficherResultat(
               "Non classée",
               "Aucune condition spécifique remplie → vérifier manuellement.",
               "—"
            );
         });

         // --- Déclenche automatiquement le classement ---
         function classerAutomatiquement() {
            document.getElementById("classerBtn").click();
         }

         // Liste des champs à surveiller
         [
            "type",
            "systeme",
            "canon",
            "calibre",
            "alimentation",
            "capacite",
            "longueur_canon",
            "longueur_min",
            "brevet",
            "crosse",
            "apparence",
            "transformee",
         ].forEach((id) => {
            document
               .getElementById(id)
               .addEventListener("input", classerAutomatiquement);
            document
               .getElementById(id)
               .addEventListener("change", classerAutomatiquement);
         });

         // Classement automatique dès le chargement de la page
         window.addEventListener("DOMContentLoaded", classerAutomatiquement);

         document
            .getElementById("copyBtn")
            .addEventListener("click", async () => {
               const texte = document.getElementById("resultat").value;
               if (!texte) return;

               try {
                  await navigator.clipboard.writeText(texte);
                  const btn = document.getElementById("copyBtn");
                  const originalText = btn.textContent;
                  btn.textContent = "✅ Copié !";
                  btn.classList.remove("btn-outline-secondary");
                  btn.classList.add("btn-success");
                  setTimeout(() => {
                     btn.textContent = originalText;
                     btn.classList.remove("btn-success");
                     btn.classList.add("btn-outline-secondary");
                  }, 1500);
               } catch (err) {
                  alert(
                     "❌ Impossible de copier le texte dans le presse-papiers."
                  );
               }
            });

         // --- Gestion du mode sombre / clair ---
         const themeToggle = document.getElementById("themeToggle");

         // Applique le thème sauvegardé si existant
         const savedTheme = localStorage.getItem("theme");
         if (savedTheme) {
            document.documentElement.setAttribute("data-bs-theme", savedTheme);
            themeToggle.textContent = savedTheme === "dark" ? "☀️" : "🌙";
         }

         // Événement clic sur le bouton
         themeToggle.addEventListener("click", () => {
            const currentTheme =
               document.documentElement.getAttribute("data-bs-theme");
            const newTheme = currentTheme === "dark" ? "light" : "dark";
            document.documentElement.setAttribute("data-bs-theme", newTheme);
            themeToggle.textContent = newTheme === "dark" ? "☀️" : "🌙";
            localStorage.setItem("theme", newTheme); // sauvegarde la préférence
         });
      </script>
   </body>
</html>
